package com.winter.app.cart;

import java.util.List;
import java.util.Map;

import org.springframework.stereotype.Service;
import org.springframework.beans.factory.annotation.Autowired;

@Service
public class CartService {
    @Autowired
    private CartDAO cartDAO;

    public int add(String username, Long productNum) throws Exception {
        CartDTO dto = new CartDTO();
        dto.setUsername(username);
        dto.setProductNum(productNum);
        return cartDAO.add(dto); 
    }

    public int remove(String username, Long productNum) throws Exception {
        CartDTO dto = new CartDTO();
        dto.setUsername(username);
        dto.setProductNum(productNum);
        return cartDAO.remove(dto);
    }

    public List<Map<String,Object>> list(String username) throws Exception {
        return cartDAO.listByUser(username);
    }

    public boolean exists(String username, Long productNum) throws Exception {
        CartDTO dto = new CartDTO();
        dto.setUsername(username);
        dto.setProductNum(productNum);
        return cartDAO.exists(dto) > 0;
    }
}
